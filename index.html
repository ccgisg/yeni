<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İşyeri Hekimliği Veri Kayıt</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="login-container" id="login-container">
        <h2>İşyeri Hekimliği Sistemi</h2>
        <input type="password" id="password" placeholder="Şifre (varsayılan: 1234)">
        <button onclick="login()">Giriş Yap</button>
    </div>

    <div class="main-container" id="main-container" style="display: none;">
        <div class="sidebar">
            <div class="menu-item" id="monthly-jobs">
                <span>Aylık İşlerim</span>
                <div class="submenu" id="month-submenu"></div>
            </div>
            <div class="menu-item" id="workplaces">
                <span>İşyerlerim</span>
                <div class="submenu" id="workplace-submenu">
                    <button onclick="addWorkplace()">İşyeri Ekle</button>
                </div>
            </div>
            <div class="menu-item" onclick="showSettings()">
                <span>Ayarlar</span>
            </div>
        </div>

        <div class="content-area">
            <div class="header">
                <button class="logout-btn" onclick="logout()">Çıkış</button>
            </div>
            
            <div id="dashboard-content">
                <h2>Hoş Geldiniz</h2>
                <p>Sol menüden işlem yapmak istediğiniz bölümü seçiniz.</p>
            </div>

            <div id="workplace-content" style="display: none;">
                <button class="back-btn" onclick="backToMain()">← Geri</button>
                <div class="workplace-header">
                    <h2 id="workplace-title"></h2>
                    <div class="workplace-actions">
                        <button onclick="exportToExcel()">Excel'e Ver</button>
                        <button onclick="importFromExcel()">Excel'den Al</button>
                        <button onclick="backupData()">Yedek Al</button>
                        <button onclick="restoreFromBackup()">Yedekten Dön</button>
                    </div>
                </div>
                <table id="employee-table">
                    <thead>
                        <tr>
                            <th>S.No</th>
                            <th>TC Kimlik No</th>
                            <th>Ad Soyad</th>
                            <th>Mevcut Muayene</th>
                            <th>Sonraki Muayene</th>
                            <th>Ek-2</th>
                            <th>İşlemler</th>
                        </tr>
                    </thead>
                    <tbody id="employee-list">
                        <!-- Employee list will be populated here -->
                    </tbody>
                </table>
                <button onclick="addEmployee()" class="add-employee-btn">Kişi Ekle</button>
            </div>

            <div id="settings-content" style="display: none;">
                <button class="back-btn" onclick="backToMain()">← Geri</button>
                <h2>Doktor Bilgileri</h2>
                <form id="doctor-settings">
                    <div class="form-group">
                        <label for="doctor-name">Ad Soyad:</label>
                        <input type="text" id="doctor-name" required>
                    </div>
                    <div class="form-group">
                        <label for="diploma-date">Diploma Tarih ve No:</label>
                        <input type="text" id="diploma-date" required>
                    </div>
                    <div class="form-group">
                        <label for="diploma-reg-date">Diploma Tescil Tarih ve No:</label>
                        <input type="text" id="diploma-reg-date" required>
                    </div>
                    <div class="form-group">
                        <label for="workplace-certificate">İşyeri Hekimliği Belgesi Tarih ve No:</label>
                        <input type="text" id="workplace-certificate" required>
                    </div>
                    <button type="submit">Kaydet</button>
                </form>
            </div>

            <div id="employee-form-container" style="display: none;">
                <button class="back-btn" onclick="backToWorkplace()">← Geri</button>
                <h2 id="employee-form-title">Yeni Kişi Ekle</h2>
                <form id="employee-form">
                    <input type="hidden" id="employee-id">
                    <div class="form-group">
                        <label for="employee-tc">TC Kimlik No:</label>
                        <input type="text" id="employee-tc" required>
                    </div>
                    <div class="form-group">
                        <label for="employee-name">Ad Soyad:</label>
                        <input type="text" id="employee-name" required>
                    </div>
                    <div class="form-group">
                        <label for="current-exam">Mevcut Muayene Tarihi:</label>
                        <input type="date" id="current-exam" required>
                    </div>
                    <div class="form-group">
                        <label for="next-exam">Sonraki Muayene Tarihi:</label>
                        <input type="date" id="next-exam" required>
                    </div>
                    <div class="form-group">
                        <label for="ek2-file">Ek-2 Dosyası:</label>
                        <input type="file" id="ek2-file" accept=".docx,.pdf">
                    </div>
                    <button type="submit">Kaydet</button>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
